---
import BaseLayout from "../../layouts/BaseLayout.astro";
import Header from "../../components/Header.astro";
import Footer from "../../components/Footer.astro";
import BlogPostCard from "../../components/BlogPostCard.astro";
import { getPublishedPosts } from "../../utils/blog";
import { SITE_CONFIG } from "../../config/site";

const posts = await getPublishedPosts();
---

<BaseLayout
  title="Blog | vowlt"
  description="Follow along as we build vowlt in public. Updates, technical posts, and product development insights."
>
  <Header currentPath="/blog" />

  <!-- Main -->
  <main class="max-w-4xl mx-auto px-6 py-12">
    <div class="mb-12">
      <p class="text-xl text-gray-600 dark:text-gray-400">
        {SITE_CONFIG.blog.description}
      </p>
    </div>

    <!-- Blog Posts -->
    {
      posts.length === 0 ? (
        <div class="text-center py-12">
          <p class="text-gray-600 dark:text-gray-400 text-lg">
            {SITE_CONFIG.blog.emptyMessage}
          </p>
        </div>
      ) : (
        <div class="space-y-6">
          {posts.map((post) => (
            <BlogPostCard post={post} />
          ))}
        </div>
      )
    }
  </main>

  <Footer />
</BaseLayout>
