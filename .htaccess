# Astro Static Site Configuration for Apache
# Handles trailing slashes and directory routing

RewriteEngine On

# Redirect URLs with trailing slashes to versions without them (301 permanent)
# This improves SEO by preventing duplicate content
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_URI} ^(.+)/$ [NC]
RewriteRule ^ %1 [R=301,L]

# Handle directory access without trailing slash
# Astro generates /about/index.html for /about route
# This rewrites clean URLs to their corresponding index.html files
DirectorySlash Off
RewriteCond %{REQUEST_FILENAME} -d
RewriteCond %{REQUEST_URI} !/$
RewriteCond %{REQUEST_FILENAME}/index.html -f
RewriteRule (.*) $1/index.html [L]
